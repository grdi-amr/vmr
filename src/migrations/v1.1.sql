BEGIN;

-- Update the template mapping to reflect the extractions table that was renamed and reformatted.
UPDATE template_mapping 
   SET vmr_table = 'extractions' 
 WHERE vmr_table = 'extraction_information'; 

-- Add a new column to the ontology terms table 
ALTER TABLE ontology_terms ADD COLUMN deprecated boolean DEFAULT FALSE;


-- Update the FOODON terms that went through some strange renaming.
UPDATE ontology_terms SET en_term = 'Bos taurus'                                                           WHERE ontology_id = 'NCBITaxon:9913';
UPDATE ontology_terms SET ontology_id = 'FOODON:0001282' , en_term = 'beef (ground)'                       WHERE ontology_id = 'FOODON:03000412';
UPDATE ontology_terms SET ontology_id = 'FOODON:02000426', en_term = 'beef (ground, extra lean)'           WHERE ontology_id = 'FOODON:03000398';
UPDATE ontology_terms SET ontology_id = 'FOODON:02000425', en_term = 'beef (ground, lean)'                 WHERE ontology_id = 'FOODON:03000394';
UPDATE ontology_terms SET ontology_id = 'FOODON:02000427', en_term = 'beef (ground, medium)'               WHERE ontology_id = 'FOODON:03000402';
UPDATE ontology_terms SET ontology_id = 'FOODON:02000428', en_term = 'beef (ground, regular)'              WHERE ontology_id = 'FOODON:03000406';
UPDATE ontology_terms SET ontology_id = 'FOODON:02000429', en_term = 'beef (ground, sirloin)'              WHERE ontology_id = 'FOODON:03000408';
UPDATE ontology_terms SET ontology_id = 'FOODON:02000069', en_term = 'beef shoulder clod'                  WHERE ontology_id = 'FOODON:03000377';
UPDATE ontology_terms SET ontology_id = 'FOODON:02000412', en_term = 'piece(s) of beef'                    WHERE ontology_id = 'FOODON:03000333';
UPDATE ontology_terms SET ontology_id = 'FOODON:02020231', en_term = 'chicken breast (skinless)'           WHERE ontology_id = 'FOODON:00003332';
UPDATE ontology_terms SET ontology_id = 'FOODON:02020233', en_term = 'chicken breast (with skin)'          WHERE ontology_id = 'FOODON:03000374';
UPDATE ontology_terms SET ontology_id = 'FOODON:02020235', en_term = 'chicken breast (skinless, boneless)' WHERE ontology_id = 'FOODON:00003364';
UPDATE ontology_terms SET ontology_id = 'FOODON:02020237', en_term = 'chicken drumstick (skinless)'        WHERE ontology_id = 'FOODON:03000366';
UPDATE ontology_terms SET ontology_id = 'FOODON:02020239', en_term = 'chicken drumstick(with skin)'        WHERE ontology_id = 'FOODON:03000368';
UPDATE ontology_terms SET ontology_id = 'FOODON:02020311', en_term = 'chicken meat (ground)'               WHERE ontology_id = 'FOODON:03000410';
UPDATE ontology_terms SET ontology_id = 'FOODON:02020228', en_term = 'chicken thigh (skinless, boneless)'  WHERE ontology_id = 'FOODON:03000417';
UPDATE ontology_terms SET ontology_id = 'FOODON:02021718', en_term = 'pork meat (ground)'                  WHERE ontology_id = 'FOODON:03000413';
UPDATE ontology_terms SET ontology_id = 'FOODON:02000322', en_term = 'pork shoulder'                       WHERE ontology_id = 'FOODON:03000376';
UPDATE ontology_terms SET ontology_id = 'FOODON:02000300', en_term = 'pork sirloin chop'                   WHERE ontology_id = 'FOODON:03000390';
UPDATE ontology_terms SET ontology_id = 'FOODON:02021757', en_term = 'pork steak'                          WHERE ontology_id = 'FOODON:00003148';
UPDATE ontology_terms SET ontology_id = 'FOODON:02000306', en_term = 'pork tenderloin'                     WHERE ontology_id = 'FOODON:03000416';
UPDATE ontology_terms SET ontology_id = 'FOODON:02020805', en_term = 'scallop'                             WHERE ontology_id = 'FOODON:03411489';
UPDATE ontology_terms SET ontology_id = 'FOODON:02020495', en_term = 'turkey breast (skinless)'            WHERE ontology_id = 'FOODON:03000372';
UPDATE ontology_terms SET ontology_id = 'FOODON:02020499', en_term = 'turkey breast (skinless, boneless)'  WHERE ontology_id = 'FOODON:03000373';
UPDATE ontology_terms SET ontology_id = 'FOODON:02020497', en_term = 'turkey breast (with skin)'           WHERE ontology_id = 'FOODON:03000375';
UPDATE ontology_terms SET ontology_id = 'FOODON:02020477', en_term = 'turkey drumstick'                    WHERE ontology_id = 'FOODON:03000365';
UPDATE ontology_terms SET ontology_id = 'FOODON:02020501', en_term = 'turkey drumstick (skinless)'         WHERE ontology_id = 'FOODON:03000367';
UPDATE ontology_terms SET ontology_id = 'FOODON:02020503', en_term = 'turkey drumstick (with skin)'        WHERE ontology_id = 'FOODON:03000369';
UPDATE ontology_terms SET ontology_id = 'FOODON:02020577', en_term = 'turkey meat (ground)'                WHERE ontology_id = 'FOODON:03000411';
UPDATE ontology_terms SET ontology_id = 'FOODON:02020491', en_term = 'turkey thigh (skinless, boneless)'   WHERE ontology_id = 'FOODON:03000370';
UPDATE ontology_terms SET ontology_id = 'FOODON:02020478', en_term = 'turkey wing'                         WHERE ontology_id = 'FOODON:03000371';
UPDATE ontology_terms SET ontology_id = 'FOODON:00003643', en_term = 'arugula greens bunch'                WHERE ontology_id = 'FOODON:00002426';
UPDATE ontology_terms SET ontology_id = 'FOODON:00003744', en_term = 'chilli pepper'                       WHERE ontology_id = 'FOODON:03315873';
UPDATE ontology_terms SET ontology_id = 'FOODON:03000180', en_term = 'chia sprout'                         WHERE ontology_id = 'FOODON:00004284';
UPDATE ontology_terms SET ontology_id = 'FOODON:00002318', en_term = 'tomato (whole or pieces)'            WHERE ontology_id = 'FOODON:03000227';
UPDATE ontology_terms SET ontology_id = 'FOODON:03301223', en_term = 'paprika (ground)'                    WHERE ontology_id = 'FOODON:03301105';

-- Add a microbe. 
INSERT INTO microbes 
  (ontology_id, scientific_name) 
VALUES 
  ('NCBITaxon:670', 'Vibrio parahaemolyticus');

-- 
WITH food_ins AS 
  (INSERT INTO ontology_terms 
               (ontology_id, en_term) 
        VALUES ('FOODON:03411223', 'Mussel')
               ('FOODON:03411224', 'Oyster')




































































































































































































































































































































































































































































































































































































































































































































































































































































